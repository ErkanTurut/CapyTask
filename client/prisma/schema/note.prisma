model note {
    id            String     @id @default(dbgenerated("nanoid(17)"))
    content       String
    type          NoteType
    work_order    work_order @relation(fields: [work_order_id], references: [id])
    work_order_id String
    created_by    user       @relation(fields: [created_by_id], references: [id])
    created_by_id String     @db.Uuid
    metadata      Json?
    created_at    DateTime   @default(now()) @db.Timestamptz(6)
    updated_at    DateTime   @default(now()) @updatedAt @db.Timestamptz(6)

    @@index([work_order_id])
    @@index([created_by_id])
}

enum NoteType {
    STATUS_CHANGE
    COMMENT
    DELAY_NOTIFICATION
    RESOURCE_REQUEST
    CUSTOMER_COMMUNICATION
    INTERNAL_COMMUNICATION
}
